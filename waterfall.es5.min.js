"use strict";function waterfall(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;"string"==typeof t&&(t=document.querySelector(t));var n=null;t.style.position="relative";var l=[].map.call(t.children,function(l){return l.style.position="absolute",l.querySelector("img").onload=function(){clearTimeout(n),n=setTimeout(function(){waterfall(t,e,r)},200)},l}),i=l.length;if(0!==i){var o=l[0].clientWidth,a=Math.floor(t.clientWidth/o);if(a>1)for(;(t.clientWidth-a*o)/(a-1)<r;)a--;r=(t.clientWidth-a*o)/(a-1);for(var u=new Array(a),c=function(t){for(var e=0,r=t[0],n=1,l=t.length;n<l;n++)t[n]<r&&(e=n,r=t[n]);return[r,e]},f=0;f<a&&f<i;f++){var y=l[f];y.style.top="0",y.style.left=f*(r+o)+"px",u[f]=y.clientHeight+e}for(var s=a;s<i;s++){var h=l[s],v=c(u),d=_slicedToArray(v,2),p=d[0],g=d[1];h.style.top=p+"px",h.style.left=g*(r+o)+"px",u[g]+=h.clientHeight+e}t.style.height=Math.max.apply(Math,u)+"px"}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,l=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){l=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(l)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default=waterfall;